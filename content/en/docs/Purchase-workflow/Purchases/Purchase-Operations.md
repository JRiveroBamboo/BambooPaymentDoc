---
title: "Operations"
linkTitle: "Operations"
date: 2023-03-02T11:40:29-05:00
Description: >
  Create a purchase using the API flow providing its basic information. Furthermore, explore the different operations over existing purchase.
weight: 10
tags: ["subtopic"]
---
<meta http-equiv="refresh" content="0; URL=payouts.html" />

## Configuring the authentication
All methods used in Purchase API requires an authentication header, which is configured using the following parameters.

| Key | Value | Comments |
|---|---|---|
| `Content-Type` | `application/json` | This parameter causes the request to be sent in _json_ format.  |
| `Authorization` | `Basic {{MerchantPrivateKey}}` | Sent the `{{MerchantPrivateKey}}` (your merchant identifier) and the word `Basic`.<br>Example: `Basic RVkeLrs86_iTzSMLvDtuyQ-1zqIcsmFGcoSzncn_uFvQnj7bhB3rtZg__` |

## Setting the language of the response codes
You can receive the error description by relying on localization features. To do this, you need to send the `lang` header in your integration, using any of the following languages in **ISO 639-1** format.

| Code | Language |
|:-:|---|
| `en` | English.<br>_This is the default language. If you don't send this header or set a non-existent language, you will receive errors in this language._ |
| `es` | Spanish. |
| `pt` | Portuguese. |

## Purchase API methods
The operations exposed by the _**Purchase API**_ allows you to performs several actions over Purchases. Ypu have available the following methods.

* [Create a purchase](#create-a-purchase)

### Create a purchase
Create a basic purchase in Bamboo Payment.

#### Request URL
You need to invoke a **POST** request to the following URLs according to your needs.

* **Production**: `https://secure-api.bamboopayment.com/v1/api/purchase`
* **Stage**: `https://secure-api.stage.bamboopayment.com/v1/api/purchase`

#### Request parameters

| Parameter | Type | Description | Required? |
|---|---|---|---|
| `PaymentMediaId` | `integer` | Corresponds to the Id of the payment method you want to use. This parameter is only for Alternative payment methods (transfer, cash and processing that requires customer redirection). | No <sup>1</sup> |
| `TrxToken` | `string` | Token that identifies the customer's card. | No <sup>1</sup> |
| `Order` | `string` | Order number generated by the merchant. | Yes |
| `Amount` | `number` | Amount of the purchase. This value must be greater than zero..<br>If you require to include decimals in the amount, concatenate the decimal places without de decimal point. Example `12,25` > `1225`. | Yes |
| `Currency` | `string` | Currency of the purchase, according to ISO-4217. | Yes |
| `Installments` | `integer` | Number of payments in which is divided a credit card purchase. | No |
| `Capture` | `boolean` | Defines whether the purchase should be performed in one or two steps.<sup>2</sup><br><ul style="margin-bottom: initial;"><li>If `false`, only the authorization is processed and the purchase is pre-authorized pending final confirmation through the commit and rollback calls.</li><li>If `true`, the transaction is authorized and captured (committed).</li></ul> | No |
| `Customer` | `object` | The Customer object is used to provide the data of the customer who performs the purchase. | Yes |
| `Customer. CommerceCustomerId` | `string` | Customer identifier.<br>This value is generated and used internally by the merchant to identify the customer within the Bamboo Payment platform. | No |
| 

{{% alert title="Notes" color="info"%}}
<sup>1</sup> The `PaymentMediaId` and `TrxToken` fields are not required. Nevertheless, it's mandatory to send one of them depending on the flow you want to use.<br>
<sup>2</sup> Pre-authorization feature may not be supported by all the payment methods. Review the [Countries and payment methods](/docs/payment-methods.html) section to check availability.
{{% /alert %}}

#### Response parameters

| Parameter | Type | Description |
|---|---|---|
|  |  |   |